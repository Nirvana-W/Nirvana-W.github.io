"use strict";(self.webpackChunkannanw_portfolio=self.webpackChunkannanw_portfolio||[]).push([[544],{7544:function(t,e,s){s.r(e),s.d(e,{default:function(){return y}});var o=s(168),a=s(2791),i=s(4088),h=s(5671),n=s(3144),r=s(7326),l=s(136),d=s(7277),p=s(184);var c,u=function(t){return(0,p.jsx)("div",{id:"GameBoard",style:{width:t.width,height:t.height,borderWidth:t.width/50},children:(0,p.jsxs)("div",{id:"GameOver",style:{fontSize:t.width/15},children:[(0,p.jsx)("div",{id:"GameOverText",children:"GAME OVER"}),(0,p.jsxs)("div",{children:["Your score: ",t.score]}),(0,p.jsxs)("div",{children:[t.newHighScore?"New local ":"Local ","high score:"," ",t.highScore]}),(0,p.jsx)("div",{id:"PressSpaceText",children:"Press Space to restart"})]})})},k=function(t){(0,l.Z)(s,t);var e=(0,d.Z)(s);function s(t){var o;return(0,h.Z)(this,s),(o=e.call(this,t)).handleKeyDown=o.handleKeyDown.bind((0,r.Z)(o)),o.state={width:0,height:0,blockWidth:0,blockHeight:0,gameLoopTimeout:50,timeoutId:0,startSnakeSize:0,snake:[],apple:{},direction:"right",directionChanged:!1,isGameOver:!1,snakeColor:o.props.snakeColor||o.getRandomColor(),appleColor:o.props.appleColor||o.getRandomColor(),score:0,highScore:Number(localStorage.getItem("snakeHighScore"))||0,newHighScore:!1},o}return(0,n.Z)(s,[{key:"componentDidMount",value:function(){this.initGame(),window.addEventListener("keydown",this.handleKeyDown),this.gameLoop()}},{key:"initGame",value:function(){var t=this.props.percentageWidth||40,e=document.getElementById("GameBoard").parentElement.offsetWidth*(t/100);(e-=e%30)<30&&(e=30);var s=e/3*2,o=e/30,a=s/20,i=this.props.startSnakeSize||6,h=[],n=e/2,r=s/2,l={Xpos:e/2,Ypos:s/2};h.push(l);for(var d=1;d<i;d++){var p={Xpos:n-=o,Ypos:r};h.push(p)}for(var c=Math.floor(Math.random()*((e-o)/o+1))*o,u=Math.floor(Math.random()*((s-a)/a+1))*a;u===h[0].Ypos;)u=Math.floor(Math.random()*((s-a)/a+1))*a;this.setState({width:e,height:s,blockWidth:o,blockHeight:a,startSnakeSize:i,snake:h,apple:{Xpos:c,Ypos:u}})}},{key:"gameLoop",value:function(){var t=this,e=setTimeout((function(){t.state.isGameOver||(t.moveSnake(),t.tryToEatSnake(),t.tryToEatApple(),t.setState({directionChanged:!1})),t.gameLoop()}),this.state.gameLoopTimeout);this.setState({timeoutId:e})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.timeoutId),window.removeEventListener("keydown",this.handleKeyDown)}},{key:"resetGame",value:function(){var t=this.state.width,e=this.state.height,s=this.state.blockWidth,o=this.state.blockHeight,a=this.state.apple,i=[],h=t/2,n=e/2,r={Xpos:t/2,Ypos:e/2};i.push(r);for(var l=1;l<this.state.startSnakeSize;l++){var d={Xpos:h-=s,Ypos:n};i.push(d)}for(a.Xpos=Math.floor(Math.random()*((t-s)/s+1))*s,a.Ypos=Math.floor(Math.random()*((e-o)/o+1))*o;this.isAppleOnSnake(a.Xpos,a.Ypos);)a.Xpos=Math.floor(Math.random()*((t-s)/s+1))*s,a.Ypos=Math.floor(Math.random()*((e-o)/o+1))*o;this.setState({snake:i,apple:a,direction:"right",directionChanged:!1,isGameOver:!1,gameLoopTimeout:50,snakeColor:this.getRandomColor(),appleColor:this.getRandomColor(),score:0,newHighScore:!1})}},{key:"getRandomColor",value:function(){for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}},{key:"moveSnake",value:function(){var t=this.state.snake,e=this.state.snake[0].Xpos,s=this.state.snake[0].Ypos,o=e,a=s;this.moveHead();for(var i=1;i<t.length;i++)o=t[i].Xpos,a=t[i].Ypos,t[i].Xpos=e,t[i].Ypos=s,e=o,s=a;this.setState({snake:t})}},{key:"tryToEatApple",value:function(){var t=this.state.snake,e=this.state.apple;if(t[0].Xpos===e.Xpos&&t[0].Ypos===e.Ypos){var s=this.state.width,o=this.state.height,a=this.state.blockWidth,i=this.state.blockHeight,h={Xpos:e.Xpos,Ypos:e.Ypos},n=this.state.highScore,r=this.state.newHighScore,l=this.state.gameLoopTimeout;for(t.push(h),e.Xpos=Math.floor(Math.random()*((s-a)/a+1))*a,e.Ypos=Math.floor(Math.random()*((o-i)/i+1))*i;this.isAppleOnSnake(e.Xpos,e.Ypos);)e.Xpos=Math.floor(Math.random()*((s-a)/a+1))*a,e.Ypos=Math.floor(Math.random()*((o-i)/i+1))*i;this.state.score===n&&(n++,localStorage.setItem("snakeHighScore",n),r=!0),l>25&&(l-=.5),this.setState({snake:t,apple:e,score:this.state.score+1,highScore:n,newHighScore:r,gameLoopTimeout:l})}}},{key:"tryToEatSnake",value:function(){for(var t=this.state.snake,e=1;e<t.length;e++)t[0].Xpos===t[e].Xpos&&t[0].Ypos===t[e].Ypos&&this.setState({isGameOver:!0})}},{key:"isAppleOnSnake",value:function(t,e){for(var s=this.state.snake,o=0;o<s.length;o++)if(t===s[o].Xpos&&e===s[o].Ypos)return!0;return!1}},{key:"moveHead",value:function(){switch(this.state.direction){case"left":this.moveHeadLeft();break;case"up":this.moveHeadUp();break;case"right":this.moveHeadRight();break;default:this.moveHeadDown()}}},{key:"moveHeadLeft",value:function(){var t=this.state.width,e=this.state.blockWidth,s=this.state.snake;s[0].Xpos=s[0].Xpos<=0?t-e:s[0].Xpos-e,this.setState({snake:s})}},{key:"moveHeadUp",value:function(){var t=this.state.height,e=this.state.blockHeight,s=this.state.snake;s[0].Ypos=s[0].Ypos<=0?t-e:s[0].Ypos-e,this.setState({snake:s})}},{key:"moveHeadRight",value:function(){var t=this.state.width,e=this.state.blockWidth,s=this.state.snake;s[0].Xpos=s[0].Xpos>=t-e?0:s[0].Xpos+e,this.setState({snake:s})}},{key:"moveHeadDown",value:function(){var t=this.state.height,e=this.state.blockHeight,s=this.state.snake;s[0].Ypos=s[0].Ypos>=t-e?0:s[0].Ypos+e,this.setState({snake:s})}},{key:"handleKeyDown",value:function(t){if(this.state.isGameOver&&32===t.keyCode)this.resetGame();else if(!this.state.directionChanged){switch(t.keyCode){case 37:case 65:this.goLeft();break;case 38:case 87:this.goUp();break;case 39:case 68:this.goRight();break;case 40:case 83:this.goDown()}this.setState({directionChanged:!0})}}},{key:"goLeft",value:function(){var t="right"===this.state.direction?"right":"left";this.setState({direction:t})}},{key:"goUp",value:function(){var t="down"===this.state.direction?"down":"up";this.setState({direction:t})}},{key:"goRight",value:function(){var t="left"===this.state.direction?"left":"right";this.setState({direction:t})}},{key:"goDown",value:function(){var t="up"===this.state.direction?"up":"down";this.setState({direction:t})}},{key:"render",value:function(){var t=this;return this.state.isGameOver?(0,p.jsx)(u,{width:this.state.width,height:this.state.height,highScore:this.state.highScore,newHighScore:this.state.newHighScore,score:this.state.score}):(0,p.jsxs)("div",{id:"GameBoard",style:{width:this.state.width,height:this.state.height,borderWidth:this.state.width/50},children:[this.state.snake.map((function(e,s){return(0,p.jsx)("div",{className:"Block",style:{width:t.state.blockWidth,height:t.state.blockHeight,left:e.Xpos,top:e.Ypos,background:t.state.snakeColor}},s)})),(0,p.jsx)("div",{className:"Block",style:{width:this.state.blockWidth,height:this.state.blockHeight,left:this.state.apple.Xpos,top:this.state.apple.Ypos,background:this.state.appleColor}}),(0,p.jsxs)("div",{id:"Score",style:{fontSize:this.state.width/20},children:["HIGH-SCORE: ",this.state.highScore,"\u2002\u2002\u2002\u2002SCORE:"," ",this.state.score]})]})}}]),s}(a.Component),g=k,v=s(630),m=(0,a.lazy)((function(){return Promise.all([s.e(845),s.e(906),s.e(345)]).then(s.bind(s,6012))})),f=(0,a.lazy)((function(){return Promise.all([s.e(906),s.e(924)]).then(s.bind(s,4355))})),S=(0,a.lazy)((function(){return s.e(969).then(s.bind(s,8969))})),w=i.ZP.div(c||(c=(0,o.Z)(["\n  text-align: center;\n  padding-top: 8%;\n"]))),y=function(){return(0,p.jsxs)(i.f6,{theme:v.Wb,children:[(0,p.jsx)(S,{theme:"light"}),(0,p.jsx)(f,{}),(0,p.jsx)(m,{theme:"light"}),(0,p.jsxs)(w,{children:[(0,p.jsx)("h1",{children:"Simple Snake Game"}),(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsx)(g,{})]})]})}}}]);
//# sourceMappingURL=544.265c733b.chunk.js.map